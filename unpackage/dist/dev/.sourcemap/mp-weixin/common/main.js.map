{"version":3,"sources":["uni-app:///main.js",null,"webpack:///G:/aa-tong/my-project/watchApp_Web/App.vue?db81","uni-app:///App.vue","webpack:///G:/aa-tong/my-project/watchApp_Web/App.vue?a21e","webpack:///G:/aa-tong/my-project/watchApp_Web/App.vue?39a2"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","Vue","config","productionTip","prototype","$baseUrl","$baseFileUrl","$chatServerUrl","checkBack","ret","bShwoTip","console","log","statusCode","uni","showToast","icon","title","data","status","duration","$onLaunched","Promise","resolve","$isResolve","checkLogin","getStorageSync","length","switchTab","url","setUserInfo","id","userInfo","userId","toString","userName","username","userRole","role","userToken","token","userNick","nick","userHeadPic","headPic","phoneNumber","mailbox","inviteCode","superiorInviteCode","getApp","globalData","setStorageSync","g_chat","Chat","createTempChat","uuid","getClientUUID","substring","setTimeout","formatNumberRgx","num","parts","split","replace","join","getPrice","currency","noPrice","fixNum","undefined","String","splice","costPrice","num1","num2","sq1","sq2","multiple","e","Math","pow","max","getNoRepeatArry","arr","s1","Set","Array","from","deepClone","obj","_obj","JSON","stringify","objClone","parse","hidePageNavInWechatBrowser","s","hexDigits","i","substr","floor","random","App","mpType","app","$mount"],"mappings":"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","file":"common/main.js","sourcesContent":["import 'uni-pages';\r\n// @ts-ignore\r\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import Vue from 'vue'\r\nimport App from './App'\r\n\r\nimport Chat from \"@/static/js/chat.js\";\r\n\r\nVue.config.productionTip = false\r\n\r\n// Vue.prototype.$baseUrl = 'http://192.168.0.164:8081';\r\n// Vue.prototype.$baseFileUrl = 'http://192.168.0.164:8081/stock';\r\n// // Vue.prototype.$chatServerUrl = 'ws://192.168.0.118:8089/chat';\r\n// Vue.prototype.$chatServerUrl = 'wss://cn.api.wistechx.cn:8099/chat';\r\n\r\nVue.prototype.$baseUrl = 'https://hk.wistechx.cn/HermesNewApi';\r\nVue.prototype.$baseFileUrl = 'https://hk.wistechx.cn/HermesApi';\r\nVue.prototype.$chatServerUrl = 'wss://cn.api.wistechx.cn:8099/chat';\r\n\r\nVue.prototype.checkBack = function(ret, bShwoTip = 1) {\r\n\tconsole.log(ret);\r\n\tif (ret.statusCode == 200) {\r\n\t\treturn true;\r\n\t} else if (bShwoTip == 1) {\r\n\t\tif (ret.statusCode == 400)\r\n\t\t\tuni.showToast({\r\n\t\t\t\ticon: 'none',\r\n\t\t\t\ttitle: ret.data.status,\r\n\t\t\t\tduration: 2000\r\n\t\t\t});\r\n\t\telse if (ret.statusCode == 300)\r\n\t\t\tuni.showToast({\r\n\t\t\t\ticon: 'none',\r\n\t\t\t\ttitle: '请登录后再操作',\r\n\t\t\t\tduration: 2000\r\n\t\t\t});\r\n\t\telse\r\n\t\t\tuni.showToast({\r\n\t\t\t\ticon: 'none',\r\n\t\t\t\ttitle: \"操作失败，请重试\",\r\n\t\t\t\tduration: 2000\r\n\t\t\t});\r\n\t}\r\n\r\n\treturn false;\r\n}\r\n\r\nVue.prototype.$onLaunched = new Promise(resolve => {\r\n\tVue.prototype.$isResolve = resolve;\r\n})\r\n\r\nVue.prototype.checkLogin = function() {\r\n\tconsole.log('要去登录')\r\n\tif (uni.getStorageSync('token').length == 0) {\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '请先登录',\r\n\t\t\ticon: 'none'\r\n\t\t})\r\n\t\tuni.switchTab({\r\n\t\t\turl: '/comm/mine'\r\n\t\t})\r\n\t\treturn true\r\n\t} else {\r\n\t\treturn false\r\n\t}\r\n}\r\n\r\nVue.prototype.setUserInfo = function(ret) {\r\n\tconsole.log('用户信息')\r\n\t//console.log(ret);\r\n\tif (ret.data.id == null)\r\n\t\treturn;\r\n\r\n\tlet userInfo = {};\r\n\tuserInfo.userId = ret.data.id.toString();\r\n\tuserInfo.userName = ret.data.username;\r\n\tuserInfo.userRole = ret.data.role;\r\n\tuserInfo.userToken = ret.data.token;\r\n\tuserInfo.userNick = ret.data.nick;\r\n\tuserInfo.userHeadPic = ret.data.headPic;\r\n\tuserInfo.phoneNumber = ret.data.mailbox;\r\n\tuserInfo.inviteCode = ret.data.inviteCode;\r\n\tuserInfo.superiorInviteCode = ret.data.superiorInviteCode;\r\n\r\n\t//console.log(userInfo);\r\n\r\n\tgetApp().globalData.userInfo = userInfo;\r\n\tuni.setStorageSync('userId', userInfo.userId);\r\n\tuni.setStorageSync('userName', userInfo.userName);\r\n\tuni.setStorageSync(\"token\", userInfo.userToken);\r\n\tuni.setStorageSync(\"role\", userInfo.userRole);\r\n\tuni.setStorageSync(\"nick\", userInfo.userNick);\r\n\tuni.setStorageSync(\"headPic\", userInfo.userHeadPic);\r\n\tuni.setStorageSync(\"phoneNumber\", userInfo.phoneNumber);\r\n\tuni.setStorageSync(\"inviteCode\", userInfo.inviteCode)\r\n\tuni.setStorageSync(\"superiorInviteCode\", userInfo.superiorInviteCode);\r\n\r\n\t//WebSocket\r\n\tif (getApp().globalData.g_chat == null) {\r\n\t\tgetApp().globalData.g_chat = new Chat(this.$chatServerUrl, \"TopTime\", \"pages/chatList\", \"chat/chat\", 2);\r\n\t}\r\n\r\n\r\n\tgetApp().globalData.g_chat.setUserInfo(userInfo.userId, userInfo.userToken, userInfo.userNick, userInfo\r\n\t\t.userHeadPic);\r\n}\r\n\r\n//创建临时聊天\r\nVue.prototype.createTempChat = function() {\r\n\tif (getApp().globalData.g_chat == null) {\r\n\t\tgetApp().globalData.g_chat = new Chat(this.$chatServerUrl, \"TopTime\", \"pages/chatList\", \"chat/chat\", 2);\r\n\t}\r\n\tlet uuid = 'tempChat_' + this.getClientUUID();\r\n\r\n\tlet userName = '神秘人士' + uuid.substring(uuid.length - 4);\r\n\r\n\tsetTimeout(() => {\r\n\t\tgetApp().globalData.g_chat.setUserInfo(uuid, uuid, userName, '');\r\n\t}, 2000);\r\n}\r\n\r\n// 千分价格\r\nVue.prototype.formatNumberRgx = function(num) {\r\n\tif (num == \"\" || num == null || num == 0) {\r\n\t\treturn 0;\r\n\t} else {\r\n\t\tlet parts = num.toString().split(\".\");\r\n\t\tparts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n\t\treturn parts.join(\".\");\r\n\t}\r\n}\r\n\r\nVue.prototype.getPrice = function(num, currency, noPrice, fixNum) {\r\n\tif (noPrice == undefined)\r\n\t\tnoPrice = '--';\r\n\tif (num == null || num == \"null\" || num == \"\" || num == 0)\r\n\t\treturn noPrice;\r\n\r\n\tnum = String(num);\r\n\tif (fixNum == undefined)\r\n\t\tfixNum = 2;\r\n\r\n\tvar parts = num.toString().split(\".\");\r\n\tif (parts.length == 2) {\r\n\t\tif (fixNum == 0) {\r\n\t\t\tparts.splice(1, 1);\r\n\t\t} else if (parts[1].length > fixNum) {\r\n\t\t\tparts[1] = parts[1].substring(0, fixNum);\r\n\t\t}\r\n\t}\r\n\tparts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n\treturn currency + ' ' + parts.join(\".\");\r\n};\r\n\r\n// 利润\r\nVue.prototype.costPrice = function(num1, num2) {\r\n\tlet sq1, sq2, multiple;\r\n\ttry {\r\n\t\tsq1 = num1.toString().split(\".\")[1].length;\r\n\t} catch (e) {\r\n\t\tsq1 = 0;\r\n\t}\r\n\ttry {\r\n\t\tsq2 = num2.toString().split(\".\")[1].length;\r\n\t} catch (e) {\r\n\t\tsq2 = 0;\r\n\t}\r\n\tmultiple = Math.pow(10, Math.max(sq1, sq2) + 1);\r\n\treturn (num1 * multiple - num2 * multiple) / multiple;\r\n}\r\n\r\nVue.prototype.getNoRepeatArry = function(arr) {\r\n\tlet s1 = new Set(arr);\r\n\treturn Array.from(s1);\r\n\r\n}\r\n\r\nVue.prototype.deepClone = function(obj) {\r\n\tlet _obj = JSON.stringify(obj),\r\n\t\tobjClone = JSON.parse(_obj);\r\n\treturn objClone\r\n}\r\n\r\n//判断浏览器是否是微信浏览器\r\n//微信浏览器中打开H5隐藏顶部导航方法\r\nVue.prototype.hidePageNavInWechatBrowser = () => {\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n};\r\n\r\nVue.prototype.getClientUUID = () => {\r\n\tlet uuid = uni.getStorageSync('TopTime_UUID');\r\n\tif (uuid.length != 32) {\r\n\t\tvar s = [];\r\n\t\tvar hexDigits = \"0123456789abcdefABCDEFJKLMNXYZOP\";\r\n\t\tfor (var i = 0; i < 32; i++) {\r\n\t\t\ts[i] = hexDigits.substr(Math.floor(Math.random() * 32), 1);\r\n\t\t}\r\n\t\tuuid = s.join(\"\");\r\n\t\tuni.setStorageSync('TopTime_UUID', uuid);\r\n\t}\r\n\treturn uuid;\r\n};\r\n\r\nApp.mpType = 'app'\r\n\r\nconst app = new Vue({\r\n\t...App\r\n})\r\n\r\napp.$mount()","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import mod from \"-!../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"","<script>\r\n\texport default {\r\n\t\tglobalData: {\r\n\t\t\tuserInfo: {\r\n\t\t\t\tuserId: 0,\r\n\t\t\t\tuserName: '',\r\n\t\t\t\tuserRole: \"\",\r\n\t\t\t\tuserToken: \"\",\r\n\t\t\t\tuserNick: \"\",\r\n\t\t\t\tuserHeadPic: \"\",\r\n\t\t\t\tphoneNumber: \"\",\r\n\t\t\t\tuserPermissions: \"\",\r\n\t\t\t\tcurrency: \"\",\r\n\t\t\t},\r\n\t\t\tcid: null,\r\n\t\t\tisWithinProgram: true,\r\n\t\t\tpageInItem: \"\",\r\n\r\n\t\t\tg_chat: null,\r\n\t\t},\r\n\t\tonLaunch() {\r\n\t\t\t//#ifdef APP-PLUS\r\n\t\t\tconsole.log(\"APP升级更新\");\r\n\t\t\tconsole.log(plus.runtime);\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tplus.navigator.closeSplashscreen();\r\n\t\t\t}, 2000);\r\n\r\n\t\t\tlet type = uni.getSystemInfoSync().platform;\r\n\t\t\tlet version = plus.runtime.version.split(\".\").join(\"\");\r\n\r\n\t\t\tlet req = {\r\n\t\t\t\t//升级检测数据\r\n\t\t\t\ttype: type,\r\n\t\t\t\tappType: 2\r\n\t\t\t};\r\n\r\n\t\t\tuni.request({\r\n\t\t\t\turl: this.$baseUrl + \"/wechat/api/versionGet\",\r\n\t\t\t\tdata: req,\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tconsole.log(\"APP升级更新信息获取成功\");\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tif (res.data.version > version) {\r\n\t\t\t\t\t\tthis.updateNew(res.data.url);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t});\r\n\r\n\t\t\t// 监听点击通知栏消息事件\r\n\t\t\tplus.push.addEventListener(\"click\", (message) => {\r\n\t\t\t\tconsole.log(\"点击通知栏消息进行对应跳转\", message);\r\n\r\n\t\t\t\t// 清空系统通知栏中该应用的所有通知消息\r\n\t\t\t\tplus.push.clear();\r\n\t\t\t});\r\n\t\t\t// 透传消息： 即自定义消息，UniPush推送服务只负责消息传递，不做任何处理，客户端在接收到透传消息后需要自己去处理消息的展示方式或后续动作。\r\n\t\t\t// 监听接收透传消息事件，透传消息在系统通知栏中不显示，前端要进行显示处理\r\n\t\t\t// 符合格式的透传消息会自动显示在通知栏，应设置不符合格式的\r\n\t\t\tplus.push.addEventListener(\"receive\", (message) => {\r\n\t\t\t\tconsole.log(\"透传消息\");\r\n\t\t\t\tconsole.log(message);\r\n\r\n\t\t\t\t// 判断不在app内，应用后台运行，创建本地消息并添加到系统通知栏\r\n\t\t\t\tif (getApp().globalData.isWithinProgram == false) {\r\n\t\t\t\t\t// let platform = uni.getSystemInfoSync().platform;\r\n\t\t\t\t\t// let content = JSON.parse(message.content);\r\n\r\n\t\t\t\t\t// if (platform == \"ios\") {\r\n\t\t\t\t\t// \t//ios平台应用在前台时,不能收到通知消息,只能走透传,在创建一条本地消息\r\n\t\t\t\t\t// \tif (message.type == \"receive\") { // 这里判断触发的来源，否则一直推送。\r\n\t\t\t\t\t// \t\tplus.push.createMessage(content.contentText, JSON.stringify(message.payload), {\r\n\t\t\t\t\t// \t\t\ttitle: message.title\r\n\t\t\t\t\t// \t\t});\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t// } else if (platform == 'android') {\r\n\t\t\t\t\t// \tplus.push.createMessage(content.contentText, JSON.stringify(message.payload), {\r\n\t\t\t\t\t// \t\ttitle: message.title\r\n\t\t\t\t\t// \t});\r\n\t\t\t\t\t// }\r\n\r\n\t\t\t\t\tconsole.log(\"正式透传消息要不在应用内进行消息显示\");\r\n\t\t\t\t\t// content: ( String ) 必选\r\n\t\t\t\t\t// 消息显示的内容，在系统通知中心中显示的文本内容。\r\n\t\t\t\t\t// payload: ( String ) 可选\r\n\t\t\t\t\t// 消息承载的数据，可根据业务逻辑自定义数据格式。\r\n\t\t\t\t\t// options: ( MessageOptions ) 可选\r\n\t\t\t\t\t// 创建消息的额外参数，参考MessageOptions。\r\n\t\t\t\t\t// (content, payload, option);\r\n\r\n\t\t\t\t\t// let msg = JSON.parse(message.content).contentText;\r\n\t\t\t\t\t// let options = {\r\n\t\t\t\t\t// \tcover: false, // 不覆盖上一次提示的消息\r\n\t\t\t\t\t// \tsound: 'system', // 使用系统提示音\r\n\t\t\t\t\t// \ttitle: message.title\r\n\t\t\t\t\t// };\r\n\r\n\t\t\t\t\t// plus.push.createMessage(msg, message.payload, options);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t//#endif\r\n\r\n\t\t\tthis.getUserMsg();\r\n\t\t},\r\n\t\tonShow: () => {\r\n\t\t\t// 当 uni-app 启动，或从后台进入前台显示\r\n\t\t\tconsole.log(\"App Show\");\r\n\t\t\t//#ifdef APP-PLUS\r\n\t\t\tgetApp().globalData.isWithinProgram = true;\r\n\t\t\t//#endif\r\n\t\t},\r\n\t\tonHide: () => {\r\n\t\t\t// 当 uni-app 从前台进入后台\r\n\t\t\tconsole.log(\"App Hide\");\r\n\t\t\t//#ifdef APP-PLUS\r\n\t\t\tgetApp().globalData.isWithinProgram = false;\r\n\t\t\t//#endif\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 获取用户信息\r\n\t\t\tgetUserMsg() {\r\n\t\t\t\tlet token = uni.getStorageSync(\"token\");\r\n\t\t\t\tif (token.length !== 0) {\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: this.$baseUrl + \"/newWatch/api/userMsg\",\r\n\t\t\t\t\t\tmethod: \"GET\",\r\n\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t\"content-type\": \"application/json\",\r\n\t\t\t\t\t\t\ttoken: token,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcomplete: (ret) => {\r\n\t\t\t\t\t\t\tconsole.log(\"获取用户信息\", ret);\r\n\t\t\t\t\t\t\tif (this.checkBack(ret, true) == true) {\r\n\t\t\t\t\t\t\t\tthis.setUserInfo(ret);\r\n\t\t\t\t\t\t\t\tthis.$isResolve();\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.createTempChat();\r\n\t\t\t\t\t\t\t\tthis.$isResolve();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.createTempChat();\r\n\t\t\t\t\tthis.$isResolve();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tupdateNew(url) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\t//提醒用户更新\r\n\t\t\t\t\ttitle: \"更新提示\",\r\n\t\t\t\t\tcontent: \"新版本已经准备好，是否立即更新？\",\r\n\t\t\t\t\t//showCancel: false,\r\n\t\t\t\t\tcancelText: \"稍后进行\",\r\n\t\t\t\t\tconfirmText: \"立即更新\",\r\n\t\t\t\t\tconfirmColor: \"#85dbd0\",\r\n\t\t\t\t\tsuccess: (ret) => {\r\n\t\t\t\t\t\tif (ret.confirm) {\r\n\t\t\t\t\t\t\t//this.updateNew('');\r\n\t\t\t\t\t\t\t//if(url)\r\n\t\t\t\t\t\t\tplus.runtime.openURL(url);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t::-webkit-scrollbar {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\timage {\r\n\t\twill-change: transform;\r\n\t}\r\n\r\n\t.no-data {\r\n\t\tpadding-top: 450rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\r\n\t\timage {\r\n\t\t\twidth: 222rpx;\r\n\t\t\theight: 152rpx;\r\n\t\t}\r\n\r\n\t\ttext {\r\n\t\t\tmargin-top: 40rpx;\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tcolor: #c8c8c8;\r\n\t\t}\r\n\t}\r\n\r\n\t.uni-searchbar__box {\r\n\t\tborder-radius: 30px !important;\r\n\t\tborder: 0.5px solid #f8f8f8 !important;\r\n\t}\r\n\r\n\t/* #ifdef H5 */\r\n\tcheckbox .uni-checkbox-input {\r\n\t\tborder-radius: 50% !important;\r\n\t}\r\n\r\n\tuni-checkbox:not([disabled]) .uni-checkbox-input:hover {\r\n\t\tborder-color: #85dbd0 !important;\r\n\t}\r\n\r\n\tcheckbox .uni-checkbox-input.uni-checkbox-input-checked {\r\n\t\tborder: 1px solid #85dbd0 !important;\r\n\t}\r\n\r\n\t/* #endif */\r\n\r\n\t/* #ifdef APP-PLUS || MP-WEIXIN */\r\n\tcheckbox .wx-checkbox-input {\r\n\t\tborder-radius: 50% !important;\r\n\t}\r\n\r\n\tuni-checkbox:not([disabled]) .wx-checkbox-input:hover {\r\n\t\tborder-color: #85dbd0 !important;\r\n\t}\r\n\r\n\tcheckbox .wx-checkbox-input.wx-checkbox-input-checked {\r\n\t\tborder: 1px solid #85dbd0 !important;\r\n\t}\r\n\r\n\t/* #endif */\r\n\r\n\t.update-phone-container {\r\n\t\t.uni-forms-item__inner {\r\n\t\t\tpadding-bottom: 0 !important;\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1666950057647\n      var cssReload = require(\"G:/Download/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}