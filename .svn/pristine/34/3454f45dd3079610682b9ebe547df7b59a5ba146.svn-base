(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["my-updatePhone"],{"04e3":function(e,t,n){"use strict";n.r(t);var a=n("79d0"),o=n("63f7");for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);n("4297");var u,s=n("f0c5"),r=Object(s["a"])(o["default"],a["b"],a["c"],!1,null,"5ef477a9",null,!1,a["a"],u);t["default"]=r.exports},"0aff":function(e,t,n){var a=n("9d16");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=n("4f06").default;o("cc3845f2",a,!0,{sourceMap:!1,shadowMode:!1})},4297:function(e,t,n){"use strict";var a=n("0aff"),o=n.n(a);o.a},"63f7":function(e,t,n){"use strict";n.r(t);var a=n("764f"),o=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=o.a},"764f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={data:function(){return{emailData:{newPhone:"",newCode:""},emailRules:{newPhone:{rules:[{required:!0,errorMessage:"邮箱地址不能为空",trigger:"blur"},{format:"email",errorMessage:"邮箱地址格式错误"}]},newCode:{rules:[{required:!0,errorMessage:"请输入验证码",trigger:"blur"}]}},time:"获取验证码",count:59,isGeting:!1,disable:!1,countDown:null}},onReady:function(){this.hidePageNavInWechatBrowser()},methods:{updatePhoneNumber:function(){var e=this;console.log(this.emailData),this.$refs.emailForm.validate().then((function(t){console.log("验证通过"),uni.$emit("updateEmail",{newPhone:e.emailData.newPhone,newCode:e.emailData.newCode}),uni.navigateTo({url:"./updateMyMsg"})})).catch((function(e){console.log("表单错误",e)}))},getCode:function(){var e=this;""==this.emailData.newPhone?uni.showToast({title:"请输入邮箱",icon:"none"}):(uni.showLoading({title:"验证码获取中..."}),uni.request({method:"GET",url:this.$baseUrl+"/wechat/api/smsCodeGet",header:{"content-type":"application/json"},data:{phoneNumber:this.emailData.newPhone,type:"2"},complete:function(t){uni.hideLoading(),200==t.statusCode&&(e.countDown=setInterval((function(){e.count<1?(e.isGeting=!1,e.disable=!1,e.time="获取验证码",e.count=59,console.log(e.time),clearInterval(e.countDown),e.countDown=null):(e.isGeting=!0,e.disable=!0,e.time=e.count--+"s后可重发")}),1e3)),0!=e.checkBack(t,!0)&&e.$isResolve()}}))}}};t.default=a},"79d0":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a}));var a={uniForms:n("5559").default,uniFormsItem:n("0420").default},o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"update-phone-container"},[n("uni-forms",{ref:"emailForm",attrs:{modelValue:e.emailData,rules:e.emailRules}},[n("uni-forms-item",{attrs:{name:"newPhone"}},[n("v-uni-view",{staticClass:"update-phone"},[n("v-uni-view",{staticClass:"phone-left"},[n("v-uni-text",{staticClass:"update-font"},[e._v("邮箱：")]),n("v-uni-input",{staticClass:"update-input",attrs:{type:"text",placeholder:"请输入要绑定的新邮箱"},model:{value:e.emailData.newPhone,callback:function(t){e.$set(e.emailData,"newPhone",t)},expression:"emailData.newPhone"}})],1)],1)],1),n("uni-forms-item",{attrs:{name:"newCode"}},[n("v-uni-view",{staticClass:"update-phone",staticStyle:{"padding-right":"0"}},[n("v-uni-view",{staticClass:"phone-left"},[n("v-uni-text",{staticClass:"update-font"},[e._v("验证码：")]),n("v-uni-input",{staticClass:"update-input",attrs:{type:"text",placeholder:"请输入验证码"},model:{value:e.emailData.newCode,callback:function(t){e.$set(e.emailData,"newCode",t)},expression:"emailData.newCode"}})],1),n("v-uni-button",{staticClass:"phone-right",class:{codeGeting:e.isGeting},staticStyle:{border:"none"},attrs:{type:"text",plain:!0,size:"mini",disabled:e.disable},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getCode.apply(void 0,arguments)}}},[e._v(e._s(e.time))])],1)],1)],1),n("v-uni-view",{staticClass:"update-button",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.updatePhoneNumber.apply(void 0,arguments)}}},[e._v("保存")])],1)},i=[]},"9d16":function(e,t,n){var a=n("24fb"),o=n("1de5"),i=n("ea8e");t=a(!1);var u=o(i);t.push([e.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */@font-face{font-family:iconFont;src:url('+u+")}.update-phone-container[data-v-5ef477a9]{width:100%;height:100vh;background-color:#f4f8fb}.update-phone-container .update-phone[data-v-5ef477a9]{height:%?86?%;padding:0 %?40?%;margin-top:1px;display:flex;justify-content:space-between;align-items:center;background-color:#fff}.update-phone-container .update-phone .phone-left[data-v-5ef477a9]{display:flex;align-items:center;flex:1}.update-phone-container .update-phone .phone-left .update-font[data-v-5ef477a9]{font-size:%?28?%;color:#000;font-weight:700}.update-phone-container .update-phone .phone-left .update-input[data-v-5ef477a9]{flex:1;color:#c3c3c3;font-size:%?28?%}.update-phone-container .update-phone .phone-right[data-v-5ef477a9]{color:#000;font-size:%?28?%}.update-phone-container .update-phone .codeGeting[data-v-5ef477a9]{color:#c3c3c3}.update-phone-container .update-button[data-v-5ef477a9]{width:90%;height:%?80?%;margin:0 auto;margin-top:%?50?%;line-height:%?80?%;cursor:pointer;background-color:#1ecc99;color:#fff;font-size:%?26?%;border-radius:%?60?%;text-align:center}",""]),e.exports=t}}]);